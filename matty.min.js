const mattyEngine={data:{elements:{main:void 0,background:void 0,dialog:void 0},queue:[],char:[],matty:void 0,dialogListener:document.addEventListener("keydown",mattyEngine.dialogAdvance)},start:e=>{let t=document.createElement("div"),n=document.createElement("img"),a=document.createElement("pre");t.className="mattyEngine",t.style="height: 720px; width: 1280px; position: relative;",t.appendChild(n),n.style="position: aboslute; width: 100%; height: 100%;",t.appendChild(a),a.style="z-index: 3; width: 90%; left: 5%; position: absolute; bottom: 5%; display: none; background: #eee; padding: 16px 0; font-size: 20px;",mattyEngine.data.elements.main=t,mattyEngine.data.elements.background=n,mattyEngine.data.elements.dialog=a,document.querySelector(e).appendChild(t)},newCharacter:(e,t,n,a)=>{let d=document.createElement("div"),i=document.createElement("img");return d.appendChild(i),i.src=e,i.addEventListener("click",()=>a()),i.style="position: absolute; bottom: 0",i.style.height=n+"px",i.style.left=t+"%",mattyEngine.data.elements.main.appendChild(d),{delete:()=>d.innerHTML="",move:e=>i.style.left=e+"%",click:e=>a=e,src:e=>i.src=e}},newDialog:e=>{mattyEngine.data.queue.push(e),1==mattyEngine.data.queue.length&&"none"==mattyEngine.data.elements.dialog.style.display&&mattyEngine.dialogAdvance()},setBackground:e=>{mattyEngine.data.elements.background.src=e},dialogAdvance:e=>{if(null==e||"Enter"==e.key){let e=mattyEngine.data.queue.shift();null==e?(mattyEngine.data.elements.dialog.textContent="",mattyEngine.data.elements.dialog.style.display="none"):(mattyEngine.data.elements.dialog.textContent=e,mattyEngine.data.elements.dialog.style.display="block")}},clearQueue:()=>{mattyEngine.data.queue=[],mattyEngine.dialogAdvance()},queueEmpty:()=>"none"==mattyEngine.data.elements.dialog.style.display,recent:void 0};document.addEventListener("keydown",e=>{mattyEngine.recent=e.key}),document.addEventListener("keyup",()=>{mattyEngine.recent=void 0});
